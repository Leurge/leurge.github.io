---
title: "F Cubed"
subtitle: "Sprint 4"
layout: post
img: "/img/circuit3.jpg"
---

The last sprint left. I had now a need to refine the readings in order to be more accurate and also think of a design that would enable the object to be detected. Firstly, after studying the data-sheet of my NIR sensor, I had discovered that the readings were being measured in terms of count rather than their radiance i.e. intensity of light. Therefore, for each of the readings I had to divide the readings by the count (35) to get the intensity of the light. Also, I had to change the byte-mode to 16bit rather than 64bit as the data-sheet had stated that this was the most accurate measurement mode. Recall that in the previous sprint I had mentioned a formula that would allow me to convert the reflection recorded to the absorption of the material (where Absorption =  log(1/Reflection)). I now needed to apply all of these to each reading. Luckily, the sensor library has a get() function that would allow me to isolate each individual reading. Isolating the reading is also necessary in order for the reading to be published to a database. The reading now looks more like this.

![Connection](/img/publish.png)

I had also factored in a moving average in the form of a Gaussian Filter however, I discovered that this was smoothing the results far too much for my case in isolating wavelengths and much more suited to a stepper motor. Now, it was time to upload the code to the database. By modifying my code in sprint 2, I was able to upload the one reading to the database, however, if I wanted to upload every reading, I needed to be able to write a function in order to do so. Therefore, with the help of teammate Matt, I borrowed his created function in order to upload my code. But the real problem comes with the data visualisation that I had struggled with all week. Since the data-visualisation platform that our team had decided on was Metabase, it was not very flexible in displaying the data I had need – I needed all the readings on one graph and Metabase did not have this option. Therefore, I decided that for the purposes of obtaining object readings, I would log the output directly from the serial and graph it, bypassing the database. Using PuTTy, I take the data from the serial and log it into a CSV file. Since CSV stands for comma separated file, I reworded the readings to ensure that they were separated by a comma. 

Next, I used part of the Python data analysis stack to help visualise the data, specifically Pandas and Matplotlib. I graphed the readings on a scatter plot, which I connected using lines, enabling me to a get a rudimentary wavelength representation of my sensor’s data. However, the sensor was currently had no mechanism in place to stop the readings, so I coded in a hard stop to the sensor that would still keep it on but no readings would appear. 

![Graph](/img/graph2.png)

The next problem was the light source. Since halogen is a better source for this project, as it emits more infrared radiation, I used a 50W halogen globe. However, since I had no idea how I would be able to power it, I had to consult my tutor on the topic. Eventually, he helped to use a multi-meter in order the power the light. However, the light was very disperse in its distribution and a lot of light was not focused on the object. Therefore, under supervision and with the help of the tutor, I was able to fashion a make-shift lamp with wood and aluminium foil. During this process, I had to learn how to use a CAD drawing tool, in my case FreeCAD. 

![Lamp](/img/Lamp.jpg) ![light](/img/light.jpg)

Unfortunately, I did not have enough time in order to fully complete my project. This has forced me to redefine some of my learning objectives. With genuine naivety, I believed that my project would be relatively simple, however, upon learning more about the scientific nature of the project, I was quickly overwhelmed with the technical aspects. Even more so, I had also no experience with the technical aspects. Even more so, I had also no experience with electrical circuits and very limited experience in programming, so I had to spend a great deal of time learning about both.

![Circuit3](/img/Circuit3.jpg)

Final Statement:
The learning journey was a very intense and meaningful one. Initially, to satisfy the first SLO, I had to decide on a stakeholder, embracing the design thinking process. The stakeholders for my project would be the local governments within Australia which would eventually trickle down to the general population. By allowing local governments and eventually, the recycling companies, to more efficiently recycle their materials and reduce the contamination from the current level of 10%, this would allow more recycling to be exported overseas and not left in warehouses across Sydney. This would hopefully allow for the initial funding, before my stakeholder focus switched across to homeowners. This would allow more users which would increase the amount of data collected and thus improve the device. [Relevant article] (https://www.abc.net.au/news/2019-01-11/australias-recycling-crisis-one-year-on-whats-changed/10701418)

The only way in order to differentiate between materials and keep the cost down would be through some method of light. By adding multiple sensors, the price of the project would have gone up, which would have made the stakeholders reluctant to accept the proposal. Therefore, if I was only able to have one sensor, then I decided it to be a light sensor.  In accordance with the 2nd SLO, further research demonstrated that many materials, especially plastic, have unique properties in the Near Infrared Spectrum. I discovered this by thinking about the common recyclable products and the ones that are most often incorrect. Since there are many forms of plastic, often times indistinguishable apart from a number on the bottom, they are easily mistaken for recycling. Therefore, by honing in on a specific material, I will still be able to provide a solution for the problem as well as keep lowering costs. 

Throughout this journey, I had learnt all about electronic circuits a several programming languages including Python, C, C++ and Node js. A simple glimpse at the linked git hub repository IOT-Code will show a small snippet of the code I had been interacting with through these skills, I was able to wire up my sensor as well as program it to function, fulfilling SLO number 3. 

As a team, we each had to focus on a separate part of the framework as mentioned in sprint 2. Each member chose roles and collaborated to complete their work. On several occasions, I required assistance from my teammates who were extremely helpful in providing me guidance. I was only able to return the favour in limited amounts but nonetheless, fulfilled SLO number 4.

Mentioned already in this sprint but I needed more time to complete this project. Due to the technical nature of this project, in terms of learning about the properties of light and formulas associated with it, I spent a great majority of time researching about it. In hindsight, this caused a great deal time to be spent and not used on the designing of the case. When it came to designing the case, the Linux incompatibilities increased the learning curve difficulty, resulting in me deciding to laser cut instead of 3d print. At the end of each sprint, people in the class would present their current status on the project and allow for group discussion on improvements. This is fufills SLO number 5.
